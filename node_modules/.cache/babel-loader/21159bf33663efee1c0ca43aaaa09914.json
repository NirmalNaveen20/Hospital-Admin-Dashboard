{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.upload = upload;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _click = require(\"./click\");\n\nvar _blur = require(\"./blur\");\n\nvar _focus = require(\"./focus\");\n\nvar _utils = require(\"./utils\");\n\nfunction upload(element, fileOrFiles, init) {\n  let {\n    applyAccept = false\n  } = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var _input$files;\n\n  const input = (0, _utils.isElementType)(element, 'label') ? element.control : element;\n\n  if (!input || !(0, _utils.isElementType)(input, 'input', {\n    type: 'file'\n  })) {\n    throw new TypeError(`The ${input === element ? 'given' : 'associated'} ${input == null ? void 0 : input.tagName} element does not accept file uploads`);\n  }\n\n  if ((0, _utils.isDisabled)(element)) return;\n  (0, _click.click)(element, init == null ? void 0 : init.clickInit);\n  const files = (Array.isArray(fileOrFiles) ? fileOrFiles : [fileOrFiles]).filter(file => !applyAccept || isAcceptableFile(file, input.accept)).slice(0, input.multiple ? undefined : 1); // blur fires when the file selector pops up\n\n  (0, _blur.blur)(element); // focus fires when they make their selection\n\n  (0, _focus.focus)(element); // do not fire an input event if the file selection does not change\n\n  if (files.length === ((_input$files = input.files) == null ? void 0 : _input$files.length) && files.every((f, i) => {\n    var _input$files2;\n\n    return f === ((_input$files2 = input.files) == null ? void 0 : _input$files2.item(i));\n  })) {\n    return;\n  } // the event fired in the browser isn't actually an \"input\" or \"change\" event\n  // but a new Event with a type set to \"input\" and \"change\"\n  // Kinda odd...\n\n\n  const inputFiles = { ...files,\n    length: files.length,\n    item: index => files[index],\n\n    [Symbol.iterator]() {\n      let i = 0;\n      return {\n        next: () => ({\n          done: i >= files.length,\n          value: files[i++]\n        })\n      };\n    }\n\n  };\n  (0, _dom.fireEvent)(input, (0, _dom.createEvent)('input', input, {\n    target: {\n      files: inputFiles\n    },\n    bubbles: true,\n    cancelable: false,\n    composed: true\n  }));\n\n  _dom.fireEvent.change(input, {\n    target: {\n      files: inputFiles\n    },\n    ...(init == null ? void 0 : init.changeInit)\n  });\n}\n\nfunction isAcceptableFile(file, accept) {\n  if (!accept) {\n    return true;\n  }\n\n  const wildcards = ['audio/*', 'image/*', 'video/*'];\n  return accept.split(',').some(acceptToken => {\n    if (acceptToken.startsWith('.')) {\n      // tokens starting with a dot represent a file extension\n      return file.name.endsWith(acceptToken);\n    } else if (wildcards.includes(acceptToken)) {\n      return file.type.startsWith(acceptToken.substr(0, acceptToken.length - 1));\n    }\n\n    return file.type === acceptToken;\n  });\n}","map":{"version":3,"sources":["/Users/nirmalnaveen/Desktop/MERN Projects/ecom/ecommerce-dashboard-starter/node_modules/@testing-library/user-event/dist/upload.js"],"names":["Object","defineProperty","exports","value","upload","_dom","require","_click","_blur","_focus","_utils","element","fileOrFiles","init","applyAccept","_input$files","input","isElementType","control","type","TypeError","tagName","isDisabled","click","clickInit","files","Array","isArray","filter","file","isAcceptableFile","accept","slice","multiple","undefined","blur","focus","length","every","f","i","_input$files2","item","inputFiles","index","Symbol","iterator","next","done","fireEvent","createEvent","target","bubbles","cancelable","composed","change","changeInit","wildcards","split","some","acceptToken","startsWith","name","endsWith","includes","substr"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.upload = upload;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _click = require(\"./click\");\n\nvar _blur = require(\"./blur\");\n\nvar _focus = require(\"./focus\");\n\nvar _utils = require(\"./utils\");\n\nfunction upload(element, fileOrFiles, init, {\n  applyAccept = false\n} = {}) {\n  var _input$files;\n\n  const input = (0, _utils.isElementType)(element, 'label') ? element.control : element;\n\n  if (!input || !(0, _utils.isElementType)(input, 'input', {\n    type: 'file'\n  })) {\n    throw new TypeError(`The ${input === element ? 'given' : 'associated'} ${input == null ? void 0 : input.tagName} element does not accept file uploads`);\n  }\n\n  if ((0, _utils.isDisabled)(element)) return;\n  (0, _click.click)(element, init == null ? void 0 : init.clickInit);\n  const files = (Array.isArray(fileOrFiles) ? fileOrFiles : [fileOrFiles]).filter(file => !applyAccept || isAcceptableFile(file, input.accept)).slice(0, input.multiple ? undefined : 1); // blur fires when the file selector pops up\n\n  (0, _blur.blur)(element); // focus fires when they make their selection\n\n  (0, _focus.focus)(element); // do not fire an input event if the file selection does not change\n\n  if (files.length === ((_input$files = input.files) == null ? void 0 : _input$files.length) && files.every((f, i) => {\n    var _input$files2;\n\n    return f === ((_input$files2 = input.files) == null ? void 0 : _input$files2.item(i));\n  })) {\n    return;\n  } // the event fired in the browser isn't actually an \"input\" or \"change\" event\n  // but a new Event with a type set to \"input\" and \"change\"\n  // Kinda odd...\n\n\n  const inputFiles = { ...files,\n    length: files.length,\n    item: index => files[index],\n\n    [Symbol.iterator]() {\n      let i = 0;\n      return {\n        next: () => ({\n          done: i >= files.length,\n          value: files[i++]\n        })\n      };\n    }\n\n  };\n  (0, _dom.fireEvent)(input, (0, _dom.createEvent)('input', input, {\n    target: {\n      files: inputFiles\n    },\n    bubbles: true,\n    cancelable: false,\n    composed: true\n  }));\n\n  _dom.fireEvent.change(input, {\n    target: {\n      files: inputFiles\n    },\n    ...(init == null ? void 0 : init.changeInit)\n  });\n}\n\nfunction isAcceptableFile(file, accept) {\n  if (!accept) {\n    return true;\n  }\n\n  const wildcards = ['audio/*', 'image/*', 'video/*'];\n  return accept.split(',').some(acceptToken => {\n    if (acceptToken.startsWith('.')) {\n      // tokens starting with a dot represent a file extension\n      return file.name.endsWith(acceptToken);\n    } else if (wildcards.includes(acceptToken)) {\n      return file.type.startsWith(acceptToken.substr(0, acceptToken.length - 1));\n    }\n\n    return file.type === acceptToken;\n  });\n}"]},"metadata":{},"sourceType":"script"}